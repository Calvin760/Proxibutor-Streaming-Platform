{% extends 'layout.html' %}
{% load static %}

{% block title %}
Artists
{% endblock %}

{% block content %}
<div class="flex flex-col items-center bg-gradient-to-r from-gray-900 to-black text-white p-5">
    <h1 class="text-3xl font-bold mb-6">Artist Profiles</h1>

    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 w-full max-w-screen-xl">
        {% for artist in artists %}
        <div class="artist-profile bg-gray-800 rounded-lg shadow-lg p-2 transition duration-200 hover:bg-gray-700 cursor-pointer">
            <a href="{% url 'profile' artist.id %}">  <!-- Use the correct URL pattern -->
                <img src="{{ artist.profile_picture.url }}" alt="{{ artist.stage_name }} profile picture"
                    class="rounded-lg mb-2 h-32 w-full object-cover">
                <h2 class="text-lg font-semibold">{{ artist.stage_name }}</h2>
                {% if artist.monthly_listeners %}
                <p class="text-gray-400 text-sm">{{ artist.monthly_listeners }} monthly listeners</p>
                {% else %}
                <p class="text-gray-400 text-sm"></p>
                {% endif %}
            </a>
        </div>
        {% empty %}
        <p class="text-gray-500">No artists found.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
